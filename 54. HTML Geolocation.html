<!DOCTYPE html>
<html>
    <head>
        <title>
            HTML Geolocation 
        </title>
        <style>
            #table1 {
                border:1px solid #f1f1f1;
                border-collapse:collapse;
                width:100%;
            }
            #table1 th {
                text-align:left;
                border:1px solid grey;
            }
            #table1 tr:nth-child(even) {
                background-color:#f1f1f1;
            }
            #table1 tr {
                height:50px;
            }
            #table1 td {
                border:1px solid grey;
                text-align:center;
            }

            #table2 {
                border:1px solid #f1f1f1;
                border-collapse:collapse;
                width:80%;
            }
            #table2 th {
                text-align:left;
            }
            #table2 tr {
                height:40px;
            }
            #table2 tr:nth-child(even) {
                background-color:#f1f1f1;
            }
        </style>
    </head>
    <body>
        <h1>
            HTML Geolocation API 
        </h1>

        <br>

        <p>
            The HTML Geolocation API is used to locate a user's position. 
        </p>

        <br>
        <br>

        <h2>
            Locate the User's Position 
        </h2>

        <br>

        <p>
            The HTML Geolocation API is used to get the geographical position of a user. 
            <br>
            Since this can compromise privacy, the position is not available unless the user approves it. 

            <br>
            <br>

            <p style="background-color:yellow;border:1px solid black;padding:10px;">
            <b>Note:- </b>Geolocation is most accurate for devices with GPS, like smartphones. 
            </p>
        </p>

        <br>
        <br>

        <h2>
            Browser Support 
        </h2>

        <br>

        <p>
            The numbers in the table specify the first browser version that fully supports Geolocation. 

            <br>
            <br>

            <table id="table1">
                <tr>
                    <th>API</th>
                    <td><img src="Image45.svg.png" height="40" width="40"></td>
                    <td><img src="Image46.png" height="40" width="40"></td>
                    <td><img src="Image47.png" height="40" width="40"></td>
                    <td><img src="Image48.png" height="40" width="40"></td>
                    <td><img src="Image49.png" height="40" width="40"></td>
                </tr>
                <tr>
                    <th>Geolocation</th>
                    <td>5.0 - 49.0 (http) <br> 50.0 (https)</td>
                    <td>9.0</td>
                    <td>3.5</td>
                    <td>5.0</td>
                    <td>16.0</td>
                </tr>
            </table>

            <br>
            <br>

            <p style="background-color:yellow;padding:10px;border:1px solid black;">
            <b>Note:- </b>As of Chrome 50, the Geolocation API will only work on secure contexts such as HTTPS. If your site is hosted on a non-secure origin (such as HTTP) the requests to get the users location will no longer function. 
            </p>
        </p>

        <br>
        <br>

        <h2>
            Using HTML Geolocation 
        </h2>

        <br>

        <p>
           The <span style="color:red;background-color:#f1f1f1;">getCurrentPosition()</span> method is used to return the user's position. 
           <br>
           The example below returns the latitude and longitude of the user's position:- 
           <br>
           Example:- 
           <br>
           <p>
            Click the button to get your coordinates. 
           </p>

           <button onclick="getLocation()">Try It</button>

           <p id="demo"></p>

           <br>
           <br>

           Example explained:- 
           <br>
           <ul>
            <li>Check if Geolocation is supported</li>
            <li>If supported, run the getCurrentPosition() method. If not, display a message to the user</li>
            <li>If the getCurrentPosition() method is successful, it returns a coordinates object to the function specified in the parameter (showPosition)</li>
            <li>The showPosition() function outputs the Latitude and Longitude</li>
           </ul>
           <br>
           The example above is a very basic Geolocation script, with no error handling. 
        </p>

        <br>
        <br>

        <h2>
            Handling Errors and Rejections 
        </h2>

        <br>

        <p>
            The second parameter of the <span style="color:red;background-color:#f1f1f1;">getCurrentPosition()</span> method is used to handle errors. It specifies a function to run if it fails to get the user's location. 
            <br>
            Example:- 
            <br>
            <p>
                Click the button to get your coordinates. 
            </p>

            <button onclick="geoLocation1()">Try It</button>

            <p id="demo1"></p>
        </p>

        <br>
        <br>

        <h2>
            Location-specific Information 
        </h2>

        <br>

        <p>
           This page has demonstrated how to show a user's position on a map. 
           <br>
           Geolocation is also very useful for location-specific information, like:- 
           <br>
           <ul>
            <li>Up-to-date local information</li>
            <li>Showing Points-of-interest near the user</li>
            <li>Turn-by-turn navigation (GPS)</li>
           </ul>
        </p>

        <br>
        <br>

        <h2>
            The getCurrentPosition() Method - Return Data 
        </h2>

        <br>

        <p>
            The <span style="color:red;background-color:#f1f1f1;">getCurrentPosition()</span> method returns an object on success. The latitude, longitude and accuracy properties are always returned. The other properties are returned if available. 
            <br>
            <br>
            <table id="table2">
            <tr>
                <th>Property</th>
                <th>Returns</th>
            </tr>
            <tr>
                <td>coords.latitude</td>
                <td>The latitude as a decimal number (always returned)</td>
            </tr>
            <tr>
                <td>coords.longitude</td>
                <td>The longitude as a decimal number (always returned)</td>
            </tr>
            <tr>
                <td>coords.accuracy</td>
                <td>The accuracy of position (always returned)</td>
            </tr>
            <tr>
                <td>coords.altitude</td>
                <td>The altitude in meters above the mean sea level (returned if available)</td>
            </tr>
            <tr>
                <td>coords.altitudeAccuracy</td>
                <td>The altitude accuracy of position (returned if available)</td>
            </tr>
            <tr>
                <td>coords.heading</td>
                <td>The heading as degrees clockwise from North (returned if available)</td>
            </tr>
            <tr>
                <td>coords.speed</td>
                <td>The speed in meters per second (returned if available)</td>
            </tr>
            <tr>
                <td>timestamp</td>
                <td>The date/time of the response (returned if available)</td>
            </tr>
            </table>
        </p>

        <br>
        <br>

        <h2>
            Geolocation Object - Other interesting Methods 
        </h2>

        <br>

        <p>
            The Geolocation object also has other interesting methods:- 
            <br>
            <ul>
                <li><span style="color:red;background-color:#f1f1f1;">watchPosition()</span> - Returns the current position of the user and continues to return updated position as the user moves (like the GPS in a car).</li>
                <li><span style="color:red;background-color:#f1f1f1;">clearWatch()</span> - Stops the <span style="color:red;background-color:#f1f1f1;">watchPosition()</span> method.</li>
            </ul>
            <br>
            The example below shows the <span style="color:red;background-color:#f1f1f1;"></span>watchPosition() method. You need an accurate GPS device to test this(like smartphone). 
            <br>
            Example:- 
            <br>
            <p>
                Click the button to get your coordinates. 
            </p>

            <button onclick="getLocation2()">Try It</button>

            <p id="demo2"></p>
        </p>




















        <script>
            var x = document.getElementById("demo");

            function getLocation()
            {
                if(navigator.geolocation)
                {
                    navigator.geolocation.getCurrentPosition(showPosition);
                }
                else{
                    x.innerHTML = "Geolocation is not supported by this browser.";
                }
            }

            function showPosition(position)
            {
                x.innerHTML = "Latitude:- " + position.coords.latitude + "<br>Longitude:- " + position.coords.longitude; 
            }

            var y = document.getElementById("demo1");

            function geoLocation1()
            {
                if(navigator.geolocation)
                {
                    navigator.geolocation.getCurrentPosition(showPosition1,showError);
                }
                else
                {
                   y.innerHTML = "Geolocation is not supported in your browser.";
                }
            }

            function showPosition1(position)
            {
                y.innerHTML = "Latitude:- " + position.coords.latitude + "<br> Longitude:- " + position.coords.longitude;
            }

            function showError(error)
            {
                switch(error.code)
                {
                    case error.PERMISSION_DENIED:
                        y.innerHTML = "User denied the request for Geolocation."
                        break;
                    case error.POSITION_UNAVAILABLE:
                        y.innerHTML = "Location information is unavailable."
                        break;
                    case error.TIMEOUT: 
                        y.innerHTML = "The request to get user location timed out."
                        break;
                    case error.UNKNOWN_ERROR: 
                        y.innerHTML = "An unknown error occured."
                        break;
                }
            }

            var z = document.getElementById("demo2");

            function getLocation2()
            {
                if(navigator.geolocation)
                {
                    navigator.geolocation.watchPosition(showPosition);
                }
                else
                {
                    z.innerHTML = "Geolocation is not supported in your web browser.";
                }
            }

            function showPosition(position)
            {
                z.innerHTML = "Latitude:- " + position.coords.latitude + "<br> Longitude:- " + position.coords.longitude;
            }
        </script>
    </body>
</html>