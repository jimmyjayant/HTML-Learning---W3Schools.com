<!DOCTYPE html>
<html lang="en-IN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>
            HTML Drag and Drop 
        </title>
        <style>
            #nextbutton {
                display:block;
                position:absolute;
                padding:5px 15px;
                color:white;
                text-decoration:none;
                background-color:lightgreen;
                right:5px;
                border-radius:5px;
                margin:10px 15px;
            }

            #previousbutton {
                display:block;
                position:absolute;
                padding:5px 15px;
                color:white;
                text-decoration:none;
                background-color:lightgreen;
                left:5px;
                border-radius:5px;
                margin:10px 15px;
            }

            #nextbutton:hover, #previousbutton:hover {
                background-color:green;
            }

            table {
                border:1px solid grey;
                border-collapse:collapse;
                width:70%;
            }
            tr:nth-child(even) {
                background-color:#d3d3d3;
            }
            tr {
                height:40px;
            }
            th {
                text-align:left;
                border:1px solid grey;
                width:20%;
            }
            td {
                border:1px solid grey;
                text-align:center;
            }
            #div1 {
                width:350px;
                height:70px;
                padding:10px;
                margin:20px;
                border:1px solid #aaaaaa;
            }
            #div2 {
                float:left;
                width:350px;
                height:100px;
                padding:20px;
                margin:20px;
                border:1px solid grey;
            }
            #div3 {
                float:left;
                width:350px;
                height:100px;
                padding:20px;
                margin:20px;
                border:1px solid grey;
            }

            #div0 {
                float:left;
                width:350px;
                height:100px;
                padding:10px;
                margin:20px;
                border:1px solid grey;
            }
            #div01 {
                float:left;
                width:350px;
                height:100px;
                padding:10px;
                margin:20px;
                border:1px solid grey;

            }
        </style>
    </head>
    <body>
        <h1>
            HTML Drag and Drop API 
        </h1>

        <br>

        <a href="56. HTML Geolocation.html" title="HTML Geolocation" id="previousbutton">Previous</a>
                
        <a href="58. HTML Web Storage API.html" title="HTML Web Storage API" id="nextbutton">Next</a>

        <br>
        <br>

        <p>
            In HTML, any element can be dragged and dropped. 

            <br>
            <br>
            Example:- 
            <br>
            <p>Drag the W3Schools image into the rectangle. </p>
            <br>
            <div id="div0" ondragover="allowDrop(event)" ondrop="drop(event)">
                <img src="Image53.gif" id="img" draggable="true" ondragstart="drag(event)">
            </div>
            <div id="div01" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
        </p>

        <br>
        <br>

        <h2 style="clear:both;">
            Drag and Drop 
        </h2>

        <br>

        <p>
            Drag and drop is a very common feature. It is when you "grab" an object and drag it to a different location. 
        </p>

        <br>
        <br>

        <h2>
            Browser Support 
        </h2>

        <br>

        <p>
            The numbers in the table specify the first browser version that fully supports Drag and Drop. 

            <br>
            <br>

            <table>
                <tr>
                    <th>API</th>
                    <td><img src="Image45.svg.png" height="30" width="30" alt="Google Chrome"></td>
                    <td><img src="Image46.png" height="30" width="30" alt="Microsoft Edge"></td>
                    <td><img src="Image47.png" height="30" width="30" alt="Firefox"></td>
                    <td><img src="Image48.png" height="30" width="30" alt="Apple Safari"></td>
                    <td><img src="Image49.png" height="30" width="30" alt="Opera"></td>
                </tr>
                <tr>
                    <th>Drag and Drop</th>
                    <td>4.0</td>
                    <td>9.0</td>
                    <td>3.5</td>
                    <td>6.0</td>
                    <td>12.0</td>
                </tr>
            </table>
        </p>

        <br>
        <br>

        <h2>
            HTML Drag and Drop Example 
        </h2>

        <br>

        <p>
            The example below is a simple drag and drop example:- 
            <br>
            <p>
                Drag the W3Schools image into the rectangle:- 
            </p>
            <div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <br>
            <img id="drag1" src="Image53.gif" draggable="true" ondragstart="drag(event)" width="336" height="69">

            <br>
            <br>

            It might seem complicated, but lets go through all the different parts of a drag and drop event. 
        </p>

        <br>
        <br>

        <h2>
            Make an Element Draggable 
        </h2>

        <br>

        <p>
            First of all: To make an element <span style="color:red;background-color:#f1f1f1;">draggable</span>, set the draggable attribute to true:- 
            <br>
            <p style="border:1px solid grey;padding:5px;">
            &lt;img draggable=<span style="color:brown;">"true"</span>&gt; 
            </p>
        </p>

        <br>
        <br>

        <h2>
            What to Drag - ondragstart and setData() 
        </h2>

        <br>

        <p>
            Then, specify what should happen when the element is dragged. 
            <br>
            In the example above, the <span style="color:red;background-color:#f1f1f1;">ondragstart</span> attribute calls a function, drag(event), that specifies what data to be dragged. 
            <br>
            The dataTransfer.setData() method sets the data type and the value of the dragged data:- 
            <br>
            <p style="border:1px solid grey;padding:5px;">
            <span style="color:blue;">function</span> drag(ev)
            <br>
            {
            <br>
                ev.dataTransfer.setData(<span style="color:brown;">"text"</span>,ev.target.id);
            <br>
            }
            </p>
            <br>
            In this case, the data type is "text" and the value is the id of the draggable element ("drag1"). 

        </p>

        <br>
        <br>

        <h2>
            Where to Drop - ondragover 
        </h2>

        <br>

        <p>
            The <span style="color:red;background-color:#f1f1f1;">ondragover</span> event specifies where the dragged data can be dropped. 
            <br>
            By default, data/elements cannot be dropped in other elements. To allow a drop, we must prevent the default handling of the element. 
            <br>
            This is done by calling the <span style="color:red;background-color:#f1f1f1;">event.preventDefault()</span> method for the ondragover event:- 
            <br>
            <p style="border:1px solid grey;padding:5px;">
            <span style="color:blue;font-style:italic;">event</span>.preventDefault()
            </p>
        </p>

        <br>
        <br>

        <h2>
            Do the Drop - ondrop 
        </h2>

        <br>

        <p>
           When the dragged data is dropped, a drop event occurs. 
           <br>
           In the example above, the ondrop attribute calls a function, drop(event):- 
           <br>
           <p style="border:1px solid grey;padding:5px;">
            <span style="color:blue;">function</span> drop(ev)
           <br>
           {
            <br>
            ev.preventDefault();
            <br>
            var data = ev.dataTransfer.getData(<span style="color:brown;">"text"</span>);
            <br>
            ev.target.appendChild(document.getElementById(data));
            <br>
           }
           </p> 

           <br>
           <br>

           Code explained:- 
           <br>
           <ul>
            <li>Call preventDefault() to prevent the browser default handling of the data (default is open as link on drop)</li>
            <li>Get the dragged data with the dataTransfer.getData() method. This method will return any data that was set to the same type in the setData() method</li>
            <li>The dragged data is the id of the dragged element ("drag1")</li>
            <li>Append the dragged element into the drop element</li>
           </ul>
        </p>

        <br>
        <br>

        <h2>
            More Examples 
        </h2>

        <br>

        <p>
            How to drag (and drop) an image back and forth between two &lt;div&gt; elements:- 
            <br>
            Example:- 
            <br>
            <div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img id="drag2" draggable="true" src="Image53.gif" ondragstart="drag(event)">
            </div>
            <div id="div3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </p>

        <br style="clear:both;">

        <a href="56. HTML Geolocation.html" title="HTML Geolocation" id="previousbutton">Previous</a>
                
        <a href="58. HTML Web Storage API.html" title="HTML Web Storage API" id="nextbutton">Next</a>

        <br>
        <br>

        <script>
            function allowDrop(ev) 
            {
                ev.preventDefault();
            }

            function drag(ev)
            {
                ev.dataTransfer.setData("text",ev.target.id);
            }

            function drop(ev)
            {
                ev.preventDefault();
                var data = ev.dataTransfer.getData("text");
                ev.target.appendChild(document.getElementById(data));
            }
        </script>
    </body>
</html>